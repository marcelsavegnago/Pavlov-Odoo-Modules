<odoo>
  <!-- grid view -->
  <record model="ir.ui.view" id="project_forecast_sprint_view_grid">
    <field name="name">Project Forecast Sprint Grid</field>
    <field name="model">project.forecast</field>
    <field name="arch" type="xml">
      <grid string="Forecast by Sprint" adjustment="object" adjust_name="adjust_grid">
        <field name="sprint_id" type="row" section="1"/>
        <field name="project_id" type="row"/>
        <field name="task_id" type="row"/>
        <field name="employee_id" type="row"/>
        <field name="start_date" type="col">
          <range name="week"
                 string="Week"
                 span="week"
                 step="day"
                 invisible="context.get('forecast_hide_range_week')"/>
          <range name="month"
                 string="Month"
                 span="month"
                 step="week"
                 invisible="context.get('forecast_hide_range_month')"/>
          <range name="year"
                 string="Year"
                 span="year"
                 step="month"
                 invisible="context.get('forecast_hide_range_year')"/>
        </field>
        <field name="resource_time" type="measure"/>
      </grid>
    </field>
  </record>

  <!-- search view -->
  <record model="ir.ui.view" id="project_forecast_sprint_view_search">
    <field name="name">Project Forecast Sprint Search</field>
    <field name="model">project.forecast</field>
    <field name="inherit_id" ref="project_forecast.project_forecast_view_search"/>
    <field name="arch" type="xml">
        <filter name="group_by_task_id" position="after">
          <filter name="group_by_sprint_id"
                  string="Sprint"
                  context="{'group_by': 'sprint_id'}"/>
        </filter>
    </field>
  </record>

  <!-- actions opening views on models -->
  <record model="ir.actions.act_window" id="project_forecast_sprint_action">
      <field name="name">Forecast by sprint</field>
      <field name="res_model">project.forecast</field>
      <field name="view_mode">grid,gantt,tree,form</field>
      <field name="context">{
                             'search_default_future': 1,
                             'group_by': ['sprint_id', 'employee_id'],}
      </field>
  </record>

  <record model="ir.actions.act_window.view" id="project_forecast_sprint_view_action">
    <field name="view_mode">grid</field>
    <field name="sequence" eval="1"/>
    <field name="view_id" ref="project_forecast_sprint_view_grid"/>
    <field name="act_window_id" ref="project_forecast_sprint_action"/>
  </record>

  <record model="ir.actions.server" id="project_forecast_sprint_action_server">
    <field name="name">Forecast: view by sprint</field>
    <field name="model_id" ref="project_forecast.model_project_forecast"/>
    <field name="state">code</field>
    <field name="code">action = model.action_view_forecast('project_enhancements.project_forecast_sprint_action')</field>
  </record>

  <!-- Menu Items -->
  <menuitem id="project_forecast_sprint_menu"
      name="By Sprint"
      parent="project_forecast.project_forecast_menu"
      sequence="20"
      action="project_forecast_sprint_action_server"/>
</odoo>
