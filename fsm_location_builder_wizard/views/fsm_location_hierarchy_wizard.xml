<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Field Service Location hierarchy Wizard Form View-->
    <record id="fsm_location_hierarchy_wiz_form_view" model="ir.ui.view">
        <field name="name">fsm.location.hierarchy.wiz.form</field>
        <field name="model">fsm.location_hierarchy_wizard</field>
        <field name="arch" type="xml">
            <form>
              <group colspan='2' col='4' string="Global Information">
                <field name="primary_location_id"/>
                <field name="ref"/>
                <field name="owner_id"/>
                <field name="depth"/>
                <field name="customer_id"/>
                <field name="partner_id"/>
                <label for="street" string="Address"/>
                <div class="o_address_format">
                  <div class="oe_edit_only">
                    <button name="open_parent" type="object" string="(edit)" class="oe_link"/>
                  </div>
                  <field name="street" placeholder="Street..." class="o_address_street"/>
                  <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                  <field name="city" placeholder="City" class="o_address_city"/>
                  <field name="state_id" class="o_address_state" placeholder="State" options="{&quot;no_open&quot;: True}" context="{'country_id': country_id, 'zip': zip}"/>
                  <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                  <field name="country_id" placeholder="Country" class="o_address_country" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>
                </div>
              </group>
              <group colspan='2' col='4' string="Level 1 Information">
                <field name="level_1_name" placeholder="Example 'Building'" required="1"/>
                <field name="level_1_start_num" placeholder="1"/>
                <field name="level_1_spacer" placeholder="Example '-'"/>
                <field name="level_1_end_num" placeholder="1"/>
                <field name="level_1_total"/>
              </group>
              <group colspan='2' col='4' string="Level 2 Information" attrs="{'invisible':[('depth','=','1')]}">
                <field name="level_2_name" placeholder="Example 'Floor'" attrs="{'required':[('depth','!=','1')]}"/>
                <field name="level_2_start_num" placeholder="1"/>
                <field name="level_2_spacer" placeholder="Example '-'"/>
                <field name="level_2_end_num" placeholder="1"/>
                <field name="level_2_total"/>
              </group>
              <group colspan='2' col='4' string="Level 3 Information" attrs="{'invisible':['|',('depth','=','1'),('depth','=','2')]}">
                <field name="level_3_name" placeholder="Example 'Unit'" attrs="{'required':['|',('depth','=','3'),('depth','=','4')]}"/>
                <field name="level_3_start_num" placeholder="1"/>
                <field name="level_3_spacer" placeholder="Example '-'"/>
                <field name="level_3_end_num" placeholder="1"/>
                <field name="level_3_total"/>
              </group>
              <group colspan='2' col='4' string="Level 4 Information" attrs="{'invisible':[('depth','!=','4')]}">
                <field name="level_4_name" placeholder="Example 'Room'" attrs="{'required':[('depth','=','4')]}"/>
                <field name="level_4_start_num" placeholder="1"/>
                <field name="level_4_spacer" placeholder="Example '-'"/>
                <field name="level_4_end_num" placeholder="1"/>
                <field name="level_4_total"/>
              </group>
              <footer>
                <button name="create_sub_locations" string="Create Sub Locations" class="oe_right oe_highlight" type="object"/>
                <button string="Cancel" class="oe_right" special="cancel"/>
              </footer>
            </form>
        </field>
    </record>

    <act_window id="fsm_location_hierarchy_wizard_action"
                name="Location Hierarchy Builder"
                res_model="fsm.location_hierarchy_wizard"
                src_model="fsm.location"
                view_mode="form"
                target="new"
                context = "{'default_primary_location_id': active_id, 'default_owner_id': active_id.owner_id}"/>
</odoo>
