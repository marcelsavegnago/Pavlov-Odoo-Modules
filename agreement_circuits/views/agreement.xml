<odoo>
  <record model="ir.ui.view" id="agreement_form">
    <field name="model">partner_agreement.agreement</field>
    <field name="inherit_id" ref="partner_agreement.partner_agreement_form_view"/>
    <field name="arch" type="xml">
      <data>
          <xpath expr="//page[@name='old_versions']" position="after">
              <page string="Circuit Info" attrs="{'invisible':[('circuit_agreement', '=', False)]}">
                <group colspan="2" col="4">
                  <field name="infrastructure"/>
                  <field name="protection"/>
                  <field name="primary_circuit"/>
                  <field name="fiber_count"/>
                  <field name="backup_circuit"/>
                  <field name="fiber_type"/>
                  <field name="tsp_code"/>
                  <field name="channelized"/>
                  <field name="linking_tag"/>
                  <field name="port_speed"/>
                  <field name="alternate_id"/>
                  <field name="burst_speed"/>
                  <field name="spacer" invisible="1"/>
                  <field name="speed_cir"/>
                  <field name="spacer" invisible="1"/>
                  <field name="ninetyfive_usage"/>
                </group>
                <group>
                  <field name="ip_address"/>
                  <field name="interface"/>
                  <field name="as_number"/>
                  <field name="vlan"/>
                </group>
                <notebook>
                  <page string="Diagram">
                    <field name="circuit_segments"/>

                  <!--  <notebook>
                      <page string="Endpoints">
                      </page>
                      <page string="Demarc">
                      </page>
                      <page string="Comments">
                      </page>
                    </notebook>-->
                  </page>
                  <page string="Notes">
                  </page>
                  <page string="Documents">
                  </page>
                  <page string="Capacity">
                  </page>
                  <page string="Alias">
                  </page>
                  <page string="Features">
                  </page>
                </notebook>
                <field name="circuit_agreement" invisible="1"/>
              </page>
          </xpath>
      </data>
    </field>
  </record>

  <!-- Adding a new filter to the agreement search view -->
  <record id="partner_agreement_search_view2" model="ir.ui.view">
    <field name="name">Agreement Search</field>
    <field name="model">partner_agreement.agreement</field>
    <field name="type">search</field>
    <field name="inherit_id" ref="partner_agreement.partner_agreement_search_view"/>
    <field name="arch" type="xml">
      <xpath expr="/search/filter[1]" position="after">
        <filter name="filter_partner_agreement_type_circuit_type" string="Circuit Agreements" domain="[('type.circuit_type', '=', True)]"/>
      </xpath>
    </field>
  </record>

  <!-- Purpose of this is to only show the agreements that have type "circuit type" -->
  <record model="ir.actions.act_window" id="partner_agreement_agreement_circuits">
    <field name="name">Circuit Agreements</field>
    <field name="res_model">partner_agreement.agreement</field>
    <field name="context">{"search_default_filter_partner_agreement_type_circuit_type":True}</field>
    <field name="view_mode">tree,form</field>
  </record>

  <!-- Menu Items -->
  <menuitem
    name="Circuits"
    id="partner_agreement_circuits_main_menu"
    parent="partner_agreement.menu_root"
    sequence="59"/>

    <menuitem
      name="Circuits"
      id="partner_agreement_circuits_menu1"
      parent="partner_agreement_circuits_main_menu"
      sequence="10"
      action="partner_agreement_agreement_circuits"/>

  <menuitem
    name="DCIM Infrastructure"
    id="partner_agreement_dcim_main_menu"
    parent="partner_agreement.menu_root"
    sequence="60"/>

    <menuitem
      name="Equipment"
      id="partner_agreement_equipment_sub_menu"
      parent="partner_agreement_dcim_main_menu"
      sequence="10"/>

      <menuitem
        name="Equipment Library"
        id="partner_agreement_equipment_library_sub_menu"
        parent="partner_agreement_equipment_sub_menu"
        sequence="10"/>

      <menuitem
        name="Spares"
        id="partner_agreement_equipment_spares_sub_menu"
        parent="partner_agreement_dcim_main_menu"
        sequence="15"/>

      <menuitem
        name="Panels"
        id="partner_agreement_equipment_panels_sub_menu"
        parent="partner_agreement_dcim_main_menu"
        sequence="20"/>

      <menuitem
        name="Cages"
        id="partner_agreement_equipment_cages_sub_menu"
        parent="partner_agreement_dcim_main_menu"
        sequence="25"/>

      <menuitem
        name="Racks"
        id="partner_agreement_equipment_racks_sub_menu"
        parent="partner_agreement_dcim_main_menu"
        sequence="30"/>
</odoo>
